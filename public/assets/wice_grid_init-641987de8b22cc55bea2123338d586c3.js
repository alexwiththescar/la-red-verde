((function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n;jQuery(function(){return c()}),c=function(){return $(".wice-grid-container").each(function(b,c){var d,i,j,o,p,q,r,s,t;o=c.id,d=$(".wg-data",c),q=d.data("processor-initializer-arguments"),j=d.data("filter-declarations"),a(d.data("foc")),p=new WiceGridProcessor(o,q[0],q[1],q[2],q[3],q[4],q[5]),r=function(a){return p.register({filterName:a.filterName,detached:a.detached,templates:a.declaration.templates,ids:a.declaration.ids})};for(s=0,t=j.length;s<t;s++)i=j[s],r(i);return window[o]=p,h(),n(c,p),g(c,p),k(c),m(c,p),l(c),e(c,p),f(c)}),d(),j(),i()},h=function(){var a;return $(".wice-grid-container input.check-for-datepicker[type=hidden], .wg-detached-filter input.check-for-datepicker[type=hidden]").length!==0&&($.datepicker||alert("Seems like you do not have jQuery datepicker (http://jqueryui.com/demos/datepicker/)\ninstalled. Either install it or set Wice::Defaults::HELPER_STYLE to :standard in\nwice_grid_config.rb in order to use standard Rails date helpers")),(a=$(".wice-grid-container input[type=hidden], .wg-detached-filter input[type=hidden]").data("locale"))&&$.datepicker.setDefaults($.datepicker.regional[a]),$(".wice-grid-container .date-label, .wg-detached-filter .date-label").each(function(a,b){var c,d,e;return c=$("#"+$(b).data("dom-id")),d=c.data("close-calendar-event-name"),$(b).click(function(a){return $(this).html(""),c.val(""),d&&c.trigger(d),a.preventDefault(),!1}),e=this,c.datepicker({firstDay:1,showOn:"button",dateFormat:c.data("date-format"),buttonImage:c.data("button-image"),buttonImageOnly:!0,buttonText:c.data("button-text"),changeMonth:!0,changeYear:!0,onSelect:function(a,b){$(e).html(a);if(d)return c.trigger(d)}})})},k=function(a){var b,c,d;return c=".wg-hide-filter",d=".wg-show-filter",b=".wg-filter-row",$(c,a).click(function(){return $(this).hide(),$(d,a).show(),$(b,a).hide()}),$(d,a).click(function(){return $(this).hide(),$(c,a).show(),$(b,a).show()})},g=function(a,b){return $(".export-to-csv-button",a).click(function(){return b.exportToCsv()})},n=function(a,b){return $(".submit",a).click(function(){return b.process()}),$(".reset",a).click(function(){return b.reset()}),$(".wg-filter-row input[type=text]",a).keydown(function(a){if(a.keyCode===13)return a.preventDefault(),b.process()})},a=function(a){var b,c;c=$("#"+a);if(b=c[0])return b.value=b.value,b.focus()},e=function(a,b){return $("select.auto-reload",a).change(function(){return b.process()}),$("input.auto-reload",a).keyup(function(){return b.setProcessTimer(this.id)}),$("input.negation-checkbox.auto-reload",a).click(function(){return b.process()}),$(document).bind("wg:calendarChanged_"+b.name,function(){return b.process()})},d=function(){return $(".wg-detached-filter").each(function(a,c){var d;d=b(c);if(d)return $("select.auto-reload",c).change(function(){return d.process()}),$("input.auto-reload",c).keyup(function(){return d.setProcessTimer(this.id)}),$("input.negation-checkbox.auto-reload",c).click(function(){return d.process()})})},m=function(a,b){return $(".wg-show-all-link, .wg-back-to-pagination-link",a).click(function(a){var c,d,e;a.preventDefault(),d=$(this).data("grid-state"),c=$(this).data("confim-message"),e=function(){return b.reloadPageForGivenGridState(d)};if(!c)return e();if(confirm(c))return e()})},l=function(a){return $(".expand-multi-select-icon",a).click(function(){return $(this).prev().each(function(a,b){return b.multiple=!0}),$(this).next().show(),$(this).hide()}),$(".collapse-multi-select-icon",a).click(function(){return $(this).prev().prev().each(function(a,b){return b.multiple=!1}),$(this).prev().show(),$(this).hide()})},f=function(a){return $(".select-all",a).click(function(){return $(".sel input",a).prop("checked",!0)}),$(".deselect-all",a).click(function(){return $(".sel input",a).prop("checked",!1)})},b=function(a){var b;return b=$(a).data("grid-name"),b?window[b]:null},i=function(){return $(".wg-external-csv-export-button").each(function(a,c){var d;d=b(c);if(d)return $(c).click(function(a){return d.exportToCsv()})})},j=function(){return $(".wg-external-submit-button").each(function(a,c){var d;d=b(c);if(d)return $(c).click(function(a){return d.process(),a.preventDefault(),!1})}),$(".wg-external-reset-button").each(function(a,c){var d;d=b(c);if(d)return $(c).click(function(a){return d.reset(),a.preventDefault(),!1})}),$(".wg-detached-filter").each(function(a,c){var d;d=b(c);if(d)return $("input[type=text]",this).keydown(function(a){if(a.keyCode===13)return d.process(),a.preventDefault(),!1})})},window.getGridProcessorForElement=b})).call(this);