<%= define_grid(@farms_grid, hide_submit_button: true, hide_reset_button: true) do |g|

  g.column :name => 'farm' do |farm|
    image_tag farm.image_url(:thumb)

  end


  g.column name:  'Name', attribute: 'name', detach_with_id: :name_filter
  

  g.column name:  'Location', attribute: 'region', detach_with_id: :location_filter, custom_filter: :auto
  

  if signed_in?
  g.column  name:  "Distance  (in KM)", attribute: 'latitude', html: {style: 'font-weight: bold; text-align: center'},  filter: false do |product|

#Geocoder::Calculations.distance_between([farm.latitude, farm.longitude], [current_user.latitude,current_user.longitude],{:units => :km, :precision => 2 })
  
    end
end

  


  



  g.column   do |farm|
    

      
    link_to "View Farm", farm, class: "btn btn-small btn-secondary"  
    
 
  end
end -%>